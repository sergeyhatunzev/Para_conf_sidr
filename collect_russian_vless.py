import re
import socket
import ipaddress
import requests
from tqdm import tqdm
from collections import OrderedDict
import concurrent.futures  # –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–ª—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏

# –¢–≤–æ–∏ CIDR-–¥–∏–∞–ø–∞–∑–æ–Ω—ã (–æ—Å—Ç–∞–≤—å —Å–≤–æ–π –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–¥–µ—Å—å, –Ω–∞–ø—Ä–∏–º–µ—Ä —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ)
CIDR_STRINGS = [
    '2.94.122.0/24',
    '2.94.149.0/24',
    '2.94.168.0/24',
    '2.94.193.0/24',
    '2.94.196.0/24',
    '2.94.205.0/24',
    '2.94.206.0/24',
    '2.94.208.0/24',
    '2.95.0.0/16',
    '5.61.16.0/21',
    '5.61.232.0/21',
    '5.101.40.0/22',
    '5.181.60.0/22',
    '5.181.61.0/24',
    '5.188.140.0/22',
    '31.44.8.0/21',
    '31.44.9.0/24',
    '31.177.104.0/22',
    '37.18.14.0/24',
    '37.18.15.0/24',
    '37.139.32.0/22',
    '37.139.40.0/22',
    '37.230.172.0/22',
    '37.230.188.0/22',
    '45.84.128.0/22',
    '45.133.96.0/22',
    '45.136.20.0/22',
    '46.16.64.0/21',
    '46.21.244.0/22',
    '46.42.128.0/18',
    '46.42.189.0/24',
    '46.243.209.0/24',
    '46.243.212.0/24',
    '46.243.232.0/22',
    '51.250.0.0/17',
    '51.250.48.0/24',
    '51.250.50.0/23',
    '51.250.54.0/23',
    '51.250.112.0/21',
    '51.250.120.0/22',
    '51.250.126.0/24',
    '62.84.112.0/20',
    '62.105.128.0/19',
    '62.141.64.0/18',
    '62.141.101.0/24',
    '62.141.112.0/20',
    '62.217.160.0/20',
    '62.231.0.0/19',
    '66.90.90.0/23',
    '66.90.92.0/23',
    '66.90.95.0/24',
    '66.90.96.0/24',
    '66.90.108.0/24',
    '66.90.109.0/24',
    '66.90.121.0/24',
    '66.90.122.0/24',
    '77.41.142.0/23',
    '77.41.144.0/20',
    '77.41.158.0/24',
    '77.41.160.0/19',
    '77.41.248.0/21',
    '77.106.196.0/23',
    '78.107.56.0/24',
    '78.107.67.0/24',
    '78.107.124.0/24',
    '78.108.80.0/24',
    '78.108.81.0/24',
    '78.108.82.0/23',
    '78.108.84.0/23',
    '78.108.86.0/23',
    '78.108.88.0/23',
    '78.108.90.0/23',
    '78.108.92.0/23',
    '78.108.94.0/23',
    '78.159.239.0/24',
    '78.159.240.0/24',
    '78.159.241.0/24',
    '78.159.242.0/24',
    '78.159.243.0/24',
    '78.159.244.0/24',
    '78.159.245.0/24',
    '78.159.246.0/24',
    '78.159.247.0/24',
    '78.159.250.0/24',
    '79.104.0.0/17',
    '79.104.4.0/24',
    '79.104.5.0/24',
    '79.104.6.0/24',
    '79.104.7.0/24',
    '79.104.192.0/19',
    '79.104.220.0/24',
    '79.104.222.0/24',
    '79.104.223.0/24',
    '79.137.157.0/24',
    '79.137.174.0/23',
    '79.137.240.0/21',
    '80.243.73.0/24',
    '80.243.78.0/24',
    '80.243.79.0/24',
    '81.9.12.0/22',
    '81.9.16.0/20',
    '81.9.46.0/24',
    '81.9.72.0/24',
    '81.9.73.0/24',
    '81.9.80.0/20',
    '81.9.102.0/24',
    '81.9.103.0/24',
    '81.9.112.0/20',
    '81.9.115.0/24',
    '81.94.148.0/24',
    '81.211.0.0/17',
    '81.211.46.0/24',
    '81.211.80.0/24',
    '81.211.88.0/21',
    '81.211.96.0/19',
    '81.222.0.0/17',
    '81.222.112.0/20',
    '81.222.120.0/24',
    '81.222.124.0/23',
    '81.222.129.0/24',
    '81.222.144.0/20',
    '81.222.196.0/23',
    '81.222.202.0/24',
    '81.222.204.0/24',
    '81.222.205.0/24',
    '81.222.221.0/24',
    '81.222.244.0/23',
    '81.222.249.0/24',
    '82.142.128.0/18',
    '83.102.132.0/24',
    '83.102.160.0/24',
    '83.166.232.0/21',
    '83.166.248.0/21',
    '83.217.216.0/22',
    '83.222.28.0/22',
    '84.23.52.0/22',
    '84.201.128.0/18',
    '84.201.184.0/22',
    '84.201.188.0/23',
    '84.252.128.0/20',
    '85.21.54.0/24',
    '85.21.223.0/24',
    '85.192.32.0/22',
    '85.249.128.0/19',
    '85.249.244.0/23',
    '85.249.252.0/24',
    '85.249.253.0/24',
    '87.229.142.0/23',
    '87.229.144.0/23',
    '87.229.176.0/21',
    '87.229.186.0/23',
    '87.229.192.0/21',
    '87.229.204.0/22',
    '87.229.208.0/20',
    '87.229.224.0/19',
    '87.229.242.0/24',
    '87.239.104.0/21',
    '87.242.112.0/22',
    '87.254.132.0/23',
    '89.31.184.0/21',
    '89.112.128.0/17',
    '89.113.24.0/21',
    '89.113.96.0/21',
    '89.113.120.0/21',
    '89.113.126.0/24',
    '89.113.192.0/18',
    '89.169.128.0/18',
    '89.208.84.0/22',
    '89.208.196.0/22',
    '89.208.208.0/22',
    '89.208.216.0/23',
    '89.208.218.0/23',
    '89.208.220.0/22',
    '89.208.228.0/22',
    '89.221.228.0/22',
    '89.221.232.0/22',
    '89.221.235.0/24',
    '89.221.236.0/22',
    '89.232.188.0/22',
    '89.232.188.0/24',
    '89.232.189.0/24',
    '90.156.148.0/22',
    '90.156.151.0/24',
    '90.156.212.0/22',
    '90.156.216.0/22',
    '90.156.232.0/21',
    '91.219.224.0/22',
    '91.231.132.0/22',
    '91.231.133.0/24',
    '91.231.134.0/24',
    '91.231.238.0/24',
    '91.233.226.0/24',
    '91.238.111.0/24',
    '92.255.1.0/24',
    '92.255.3.0/24',
    '93.77.160.0/19',
    '93.171.230.0/24',
    '94.100.176.0/20',
    '94.139.244.0/22',
    '94.139.244.0/24',
    '95.25.120.0/22',
    '95.25.124.0/22',
    '95.25.128.0/22',
    '95.25.132.0/22',
    '95.25.136.0/22',
    '95.25.140.0/22',
    '95.25.144.0/22',
    '95.25.148.0/22',
    '95.25.152.0/22',
    '95.25.156.0/22',
    '95.25.160.0/22',
    '95.25.164.0/22',
    '95.25.168.0/22',
    '95.25.172.0/22',
    '95.25.176.0/22',
    '95.25.180.0/22',
    '95.25.184.0/22',
    '95.25.188.0/22',
    '95.25.204.0/23',
    '95.25.206.0/23',
    '95.25.208.0/23',
    '95.25.210.0/23',
    '95.25.212.0/23',
    '95.25.214.0/23',
    '95.26.0.0/23',
    '95.26.2.0/23',
    '95.26.4.0/23',
    '95.26.6.0/23',
    '95.26.8.0/23',
    '95.26.10.0/23',
    '95.26.160.0/23',
    '95.26.162.0/23',
    '95.26.164.0/23',
    '95.26.166.0/23',
    '95.26.168.0/23',
    '95.26.170.0/23',
    '95.26.172.0/24',
    '95.26.173.0/24',
    '95.26.174.0/23',
    '95.26.176.0/23',
    '95.26.178.0/23',
    '95.26.180.0/23',
    '95.26.182.0/23',
    '95.26.184.0/23',
    '95.26.186.0/24',
    '95.26.192.0/23',
    '95.26.194.0/23',
    '95.26.208.0/23',
    '95.26.210.0/23',
    '95.26.212.0/23',
    '95.26.214.0/23',
    '95.26.231.0/24',
    '95.26.232.0/24',
    '95.26.233.0/24',
    '95.26.234.0/24',
    '95.27.0.0/23',
    '95.27.2.0/23',
    '95.27.4.0/23',
    '95.27.6.0/23',
    '95.27.8.0/23',
    '95.27.10.0/23',
    '95.27.68.0/23',
    '95.27.70.0/23',
    '95.27.72.0/23',
    '95.27.74.0/23',
    '95.27.76.0/23',
    '95.27.78.0/23',
    '95.27.80.0/23',
    '95.27.82.0/23',
    '95.27.84.0/23',
    '95.29.176.0/22',
    '95.30.0.0/16',
    '95.30.222.0/24',
    '95.31.119.0/24',
    '95.163.32.0/19',
    '95.163.133.0/24',
    '95.163.180.0/22',
    '95.163.208.0/21',
    '95.163.216.0/22',
    '95.163.248.0/21',
    '109.71.200.0/21',
    '109.71.200.0/22',
    '109.71.204.0/22',
    '109.120.180.0/22',
    '109.120.188.0/22',
    '128.70.0.0/18',
    '128.70.64.0/18',
    '128.71.0.0/16',
    '128.73.42.0/24',
    '128.73.70.0/24',
    '128.73.80.0/24',
    '128.73.85.0/24',
    '128.73.129.0/24',
    '128.73.147.0/24',
    '128.73.156.0/24',
    '128.73.162.0/24',
    '128.73.182.0/24',
    '128.73.221.0/24',
    '128.73.223.0/24',
    '128.73.234.0/24',
    '128.73.235.0/24',
    '128.73.236.0/24',
    '128.73.237.0/24',
    '128.73.239.0/24',
    '128.73.240.0/24',
    '128.73.241.0/24',
    '128.73.242.0/24',
    '128.74.248.0/22',
    '128.75.224.0/19',
    '128.75.230.0/24',
    '128.75.232.0/24',
    '128.75.237.0/24',
    '128.140.168.0/21',
    '130.193.32.0/19',
    '130.193.61.0/24',
    '130.193.62.0/24',
    '139.181.32.0/24',
    '146.185.208.0/22',
    '146.185.240.0/22',
    '151.236.66.0/24',
    '151.236.68.0/24',
    '151.236.69.0/24',
    '151.236.71.0/24',
    '151.236.79.0/24',
    '151.236.82.0/24',
    '151.236.92.0/24',
    '151.236.93.0/24',
    '151.236.97.0/24',
    '151.236.98.0/24',
    '151.236.101.0/24',
    '151.236.103.0/24',
    '151.236.104.0/24',
    '151.236.105.0/24',
    '151.236.108.0/24',
    '151.236.110.0/24',
    '151.236.112.0/24',
    '151.236.114.0/24',
    '151.236.115.0/24',
    '151.236.116.0/24',
    '151.236.117.0/24',
    '151.236.118.0/24',
    '151.236.119.0/24',
    '151.236.120.0/24',
    '151.236.121.0/24',
    '151.236.124.0/24',
    '151.236.126.0/24',
    '155.212.192.0/20',
    '158.160.0.0/16',
    '176.112.168.0/21',
    '178.22.88.0/21',
    '178.154.192.0/19',
    '178.154.224.0/19',
    '178.154.243.0/24',
    '178.154.244.0/24',
    '178.154.245.0/24',
    '178.237.16.0/20',
    '178.237.29.0/24',
    '178.250.240.0/23',
    '178.250.242.0/23',
    '178.250.244.0/23',
    '178.250.246.0/23',
    '185.5.136.0/22',
    '185.16.148.0/22',
    '185.16.244.0/22',
    '185.16.244.0/23',
    '185.16.246.0/24',
    '185.16.247.0/24',
    '185.84.108.0/23',
    '185.84.110.0/23',
    '185.86.144.0/22',
    '185.100.104.0/22',
    '185.130.112.0/22',
    '185.131.68.0/22',
    '185.141.224.0/24',
    '185.141.226.0/24',
    '185.141.227.0/24',
    '185.180.200.0/22',
    '185.187.63.0/24',
    '185.206.164.0/22',
    '185.226.52.0/22',
    '185.241.192.0/22',
    '188.66.38.0/23',
    '188.93.56.0/21',
    '193.32.216.0/22',
    '193.32.216.0/24',
    '193.203.40.0/22',
    '194.67.0.0/18',
    '194.67.1.0/24',
    '194.67.4.0/22',
    '194.67.9.0/24',
    '194.67.10.0/24',
    '194.67.18.0/24',
    '194.67.21.0/24',
    '194.67.43.0/24',
    '194.67.45.0/24',
    '194.67.46.0/23',
    '194.67.48.0/24',
    '194.67.62.0/23',
    '194.85.128.0/19',
    '194.85.154.0/24',
    '194.154.64.0/19',
    '194.154.66.0/24',
    '194.154.70.0/24',
    '194.154.82.0/24',
    '194.186.0.0/16',
    '194.186.20.0/24',
    '194.186.22.0/24',
    '194.186.28.0/23',
    '194.186.30.0/24',
    '194.186.41.0/24',
    '194.186.48.0/23',
    '194.186.50.0/24',
    '194.186.53.0/24',
    '194.186.61.0/24',
    '194.186.62.0/24',
    '194.186.63.0/24',
    '194.186.76.0/24',
    '194.186.98.0/24',
    '194.186.100.0/22',
    '194.186.101.0/24',
    '194.186.102.0/23',
    '194.186.104.0/23',
    '194.186.115.0/24',
    '194.186.122.0/23',
    '194.186.129.0/24',
    '194.186.134.0/24',
    '194.186.138.0/24',
    '194.186.154.0/23',
    '194.186.154.0/24',
    '194.186.165.0/24',
    '194.186.167.0/24',
    '194.186.188.0/24',
    '194.186.189.0/24',
    '194.186.199.0/24',
    '194.186.212.0/24',
    '194.186.220.0/24',
    '194.186.224.0/23',
    '194.186.228.0/22',
    '194.186.231.0/24',
    '194.186.233.0/24',
    '194.186.238.0/24',
    '194.186.239.0/24',
    '194.247.51.0/24',
    '195.16.32.0/19',
    '195.46.160.0/19',
    '195.46.163.0/24',
    '195.46.168.0/24',
    '195.46.171.0/24',
    '195.46.187.0/24',
    '195.46.188.0/24',
    '195.46.190.0/24',
    '195.58.3.0/24',
    '195.68.128.0/18',
    '195.68.138.0/24',
    '195.178.4.0/24',
    '195.190.96.0/19',
    '195.190.108.0/22',
    '195.190.117.0/24',
    '195.209.160.0/20',
    '195.211.20.0/22',
    '195.218.128.0/17',
    '195.218.135.0/24',
    '195.218.144.0/20',
    '195.218.160.0/24',
    '195.218.168.0/24',
    '195.218.190.0/23',
    '195.218.195.0/24',
    '195.218.224.0/20',
    '195.222.160.0/19',
    '195.222.160.0/20',
    '195.222.176.0/20',
    '195.239.0.0/16',
    '195.239.26.0/23',
    '195.239.28.0/24',
    '195.239.31.0/24',
    '195.239.39.0/24',
    '195.239.50.0/24',
    '195.239.62.0/23',
    '195.239.72.0/22',
    '195.239.80.0/24',
    '195.239.81.0/24',
    '195.239.82.0/23',
    '195.239.83.0/24',
    '195.239.84.0/24',
    '195.239.85.0/24',
    '195.239.93.0/24',
    '195.239.112.0/21',
    '195.239.112.0/24',
    '195.239.113.0/24',
    '195.239.122.0/23',
    '195.239.124.0/23',
    '195.239.136.0/21',
    '195.239.143.0/24',
    '195.239.166.0/24',
    '195.239.168.0/24',
    '195.239.169.0/24',
    '195.239.178.0/24',
    '195.239.179.0/24',
    '195.239.194.0/24',
    '195.239.200.0/24',
    '195.239.202.0/24',
    '195.239.203.0/24',
    '195.239.208.0/23',
    '195.239.224.0/24',
    '195.239.226.0/24',
    '195.239.229.0/24',
    '195.239.230.0/23',
    '195.239.232.0/24',
    '195.239.233.0/24',
    '195.239.234.0/24',
    '195.239.245.0/24',
    '195.239.248.0/24',
    '212.44.128.0/19',
    '212.44.131.0/24',
    '212.44.146.0/24',
    '212.46.218.0/24',
    '212.111.84.0/22',
    '212.119.192.0/18',
    '212.119.194.0/24',
    '212.119.196.0/24',
    '212.119.201.0/24',
    '212.119.249.0/24',
    '212.119.253.0/24',
    '212.233.72.0/21',
    '212.233.88.0/21',
    '212.233.96.0/22',
    '212.233.120.0/22',
    '213.33.128.0/17',
    '213.33.176.0/24',
    '213.33.177.0/24',
    '213.33.178.0/24',
    '213.33.232.0/21',
    '213.33.240.0/20',
    '213.165.192.0/19',
    '213.219.212.0/22',
    '213.221.0.0/18',
    '213.221.48.0/20',
    '213.242.220.0/24',
    '217.16.16.0/20',
    '217.19.112.0/20',
    '217.19.112.0/23',
    '217.19.114.0/24',
    '217.19.116.0/24',
    '217.19.120.0/21',
    '217.19.121.0/24',
    '217.20.144.0/20',
    '217.28.224.0/20',
    '217.69.128.0/20',
    '217.118.92.0/24',
    '217.174.188.0/22',
    '217.195.212.0/23',
    '217.195.216.0/23',
    '217.195.219.0/24'
]


print("–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤—Å–µ—Ö —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö IP –∏–∑ CIDR-–¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤...")
allowed_ips_set = set()
for cidr in CIDR_STRINGS:
    try:
        network = ipaddress.ip_network(cidr, strict=False)
        for ip in network.hosts():
            allowed_ips_set.add(str(ip))
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ CIDR {cidr}: {e}")
print(f"–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞: {len(allowed_ips_set):,} —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö IPv4-–∞–¥—Ä–µ—Å–æ–≤ –≤ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–∞—Ö.\n")

# URL –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
MAIN_URL = 'https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/All_Configs_Sub.txt'
ADDITIONAL_URLS = [
    "https://github.com/sakha1370/OpenRay/raw/refs/heads/main/output/all_valid_proxies.txt",
    "https://github.com/sergeyhatunzev/Para_conf_sidr/blob/main/sidr_vless_work.txt",
    "https://raw.githubusercontent.com/sevcator/5ubscrpt10n/main/protocols/vl.txt",
    "https://raw.githubusercontent.com/yitong2333/proxy-minging/refs/heads/main/v2ray.txt",
    "https://raw.githubusercontent.com/acymz/AutoVPN/refs/heads/main/data/V2.txt",
    "https://raw.githubusercontent.com/miladtahanian/V2RayCFGDumper/refs/heads/main/config.txt",
    "https://raw.githubusercontent.com/roosterkid/openproxylist/main/V2RAY_RAW.txt",
    "https://github.com/Epodonios/v2ray-configs/raw/main/Splitted-By-Protocol/trojan.txt",
    "https://raw.githubusercontent.com/YasserDivaR/pr0xy/refs/heads/main/ShadowSocks2021.txt",
    "https://raw.githubusercontent.com/mohamadfg-dev/telegram-v2ray-configs-collector/refs/heads/main/category/vless.txt",
    "https://raw.githubusercontent.com/mheidari98/.proxy/refs/heads/main/vless",
    "https://raw.githubusercontent.com/youfoundamin/V2rayCollector/main/mixed_iran.txt",
    "https://raw.githubusercontent.com/mheidari98/.proxy/refs/heads/main/all",
    "https://github.com/Kwinshadow/TelegramV2rayCollector/raw/refs/heads/main/sublinks/mix.txt",
    "https://github.com/LalatinaHub/Mineral/raw/refs/heads/master/result/nodes",
    "https://raw.githubusercontent.com/miladtahanian/multi-proxy-config-fetcher/refs/heads/main/configs/proxy_configs.txt",
    "https://raw.githubusercontent.com/Pawdroid/Free-servers/refs/heads/main/sub",
    "https://github.com/MhdiTaheri/V2rayCollector_Py/raw/refs/heads/main/sub/Mix/mix.txt",
    "https://github.com/Epodonios/v2ray-configs/raw/main/Splitted-By-Protocol/vmess.txt",
    "https://github.com/MhdiTaheri/V2rayCollector/raw/refs/heads/main/sub/mix",
    "https://github.com/Argh94/Proxy-List/raw/refs/heads/main/All_Config.txt",
    "https://raw.githubusercontent.com/shabane/kamaji/master/hub/merged.txt",
    "https://raw.githubusercontent.com/wuqb2i4f/xray-config-toolkit/main/output/base64/mix-uri",
    "https://raw.githubusercontent.com/AzadNetCH/Clash/refs/heads/main/AzadNet.txt",
    "https://raw.githubusercontent.com/STR97/STRUGOV/refs/heads/main/STR.BYPASS#STR.BYPASS%F0%9F%91%BE",
    "https://raw.githubusercontent.com/V2RayRoot/V2RayConfig/refs/heads/main/Config/vless.txt",
    "https://etoneya.a9fm.site/2",
    "https://alley.serv00.net/1",
    "https://alley.serv00.net/2",
    "https://raw.githubusercontent.com/EtoNeYaProject/etoneyaproject.github.io/refs/heads/main/1",
    "https://raw.githubusercontent.com/EtoNeYaProject/etoneyaproject.github.io/refs/heads/main/2",
    "https://cdn.jsdelivr.net/gh/EtoNeYaProject/EtoNeYaProject.github.io@refs/heads/main/1",
    "https://github.com/AvenCores/goida-vpn-configs/raw/refs/heads/main/githubmirror/26.txt",
    "https://raw.githubusercontent.com/zieng2/wl/main/vless_universal.txt",
    "https://raw.githubusercontent.com/Kirillo4ka/vpn-configs-for-russia/refs/heads/main/Vless-Rus-Mobile-White-List.txt",
    "https://raw.githubusercontent.com/vlesscollector/vlesscollector/refs/heads/main/vless_configs.txt",
    "https://raw.githubusercontent.com/55prosek-lgtm/vpn_config_for_russia/refs/heads/main/whitelist.txt",
    "https://raw.githubusercontent.com/55prosek-lgtm/vpn_config_for_russia/refs/heads/main/blacklist.txt",
    "https://raw.githubusercontent.com/LowiKLive/BypassWhitelistRu/refs/heads/main/WhiteList-Bypass_Ru.txt",
    "https://raw.githubusercontent.com/igareck/vpn-configs-for-russia/refs/heads/main/BLACK_VLESS_RUS.txt",
    "https://raw.githubusercontent.com/igareck/vpn-configs-for-russia/refs/heads/main/Vless-Reality-White-Lists-Rus-Cable.txt",
    "https://raw.githubusercontent.com/igareck/vpn-configs-for-russia/refs/heads/main/Vless-Reality-White-Lists-Rus-Mobile.txt",
    "https://raw.githubusercontent.com/hamedcode/port-based-v2ray-configs/main/sub/vless.txt",
    "https://raw.githubusercontent.com/dakrdevo/V2Ray-Subscription/refs/heads/main/Sub",
    "https://raw.githubusercontent.com/R3ZARAHIMI/tg-v2ray-configs-every2h/refs/heads/main/Config_jo.txt",
    "https://raw.githubusercontent.com/SoliSpirit/v2ray-configs/refs/heads/main/Protocols/vless.txt",
    "https://raw.githubusercontent.com/SoliSpirit/v2ray-configs/refs/heads/main/Countries/Armenia.txt",
    "https://raw.githubusercontent.com/SoliSpirit/v2ray-configs/refs/heads/main/Countries/Belarus.txt",
    "https://raw.githubusercontent.com/SoliSpirit/v2ray-configs/refs/heads/main/Countries/Canada.txt",
    "https://raw.githubusercontent.com/SoliSpirit/v2ray-configs/refs/heads/main/Countries/Estonia.txt",
    "https://raw.githubusercontent.com/SoliSpirit/v2ray-configs/refs/heads/main/Countries/Finland.txt",
    "https://raw.githubusercontent.com/SoliSpirit/v2ray-configs/refs/heads/main/Countries/India.txt",
    "https://raw.githubusercontent.com/SoliSpirit/v2ray-configs/refs/heads/main/Countries/Kazakhstan.txt",
    "https://raw.githubusercontent.com/SoliSpirit/v2ray-configs/refs/heads/main/Countries/Latvia.txt",
    "https://raw.githubusercontent.com/SoliSpirit/v2ray-configs/refs/heads/main/Countries/Lithuania.txt",
    "https://raw.githubusercontent.com/SoliSpirit/v2ray-configs/refs/heads/main/Countries/Moldova.txt",
    "https://raw.githubusercontent.com/SoliSpirit/v2ray-configs/refs/heads/main/Countries/The_Netherlands.txt",
    "https://raw.githubusercontent.com/SoliSpirit/v2ray-configs/refs/heads/main/Countries/Poland.txt",
    "https://raw.githubusercontent.com/SoliSpirit/v2ray-configs/refs/heads/main/Countries/Russia.txt",
    "https://raw.githubusercontent.com/SoliSpirit/v2ray-configs/refs/heads/main/Countries/Ukraine.txt",
    "https://raw.githubusercontent.com/SoliSpirit/v2ray-configs/refs/heads/main/Countries/United_Kingdom.txt",
    "https://raw.githubusercontent.com/SoliSpirit/v2ray-configs/refs/heads/main/Countries/United_States.txt",
    "https://raw.githubusercontent.com/MahsaNetConfigTopic/config/refs/heads/main/xray_final.txt",
    "https://raw.githubusercontent.com/itsyebekhe/PSG/refs/heads/main/config.txt",
    "https://sub.amiralter.com/config",
    "https://raw.githubusercontent.com/MhdiTaheri/V2rayCollector/refs/heads/main/sub/mix",
    "https://raw.githubusercontent.com/MhdiTaheri/V2rayCollector/refs/heads/main/sub/vless",
    "https://raw.githubusercontent.com/Argh94/V2RayAutoConfig/refs/heads/main/configs/Vless.txt",
    "https://raw.githubusercontent.com/Argh94/V2RayAutoConfig/refs/heads/main/configs/Armenia.txt",
    "https://raw.githubusercontent.com/Argh94/V2RayAutoConfig/refs/heads/main/configs/Belarus.txt",
    "https://raw.githubusercontent.com/Argh94/V2RayAutoConfig/refs/heads/main/configs/UK.txt",
    "https://raw.githubusercontent.com/Argh94/V2RayAutoConfig/refs/heads/main/configs/India.txt",
    "https://raw.githubusercontent.com/Argh94/V2RayAutoConfig/refs/heads/main/configs/Kazakhstan.txt",
    "https://raw.githubusercontent.com/Argh94/V2RayAutoConfig/refs/heads/main/configs/Canada.txt",
    "https://raw.githubusercontent.com/Argh94/V2RayAutoConfig/refs/heads/main/configs/Latvia.txt",
    "https://raw.githubusercontent.com/Argh94/V2RayAutoConfig/refs/heads/main/configs/Liechtenstein.txt",
    "https://raw.githubusercontent.com/Argh94/V2RayAutoConfig/refs/heads/main/configs/Moldova.txt",
    "https://raw.githubusercontent.com/Argh94/V2RayAutoConfig/refs/heads/main/configs/Netherlands.txt",
    "https://raw.githubusercontent.com/Argh94/V2RayAutoConfig/refs/heads/main/configs/Poland.txt",
    "https://raw.githubusercontent.com/Argh94/V2RayAutoConfig/refs/heads/main/configs/Russia.txt",
    "https://raw.githubusercontent.com/Argh94/V2RayAutoConfig/refs/heads/main/configs/USA.txt",
    "https://raw.githubusercontent.com/Argh94/V2RayAutoConfig/refs/heads/main/configs/Ukraine.txt",
    "https://raw.githubusercontent.com/Argh94/V2RayAutoConfig/refs/heads/main/configs/Estonia.txt",
    "https://raw.githubusercontent.com/Argh94/V2RayAutoConfig/refs/heads/main/configs/Japan.txt",
    "https://raw.githubusercontent.com/itsyebekhe/LiveProxy/refs/heads/main/subscriptions/by_type/plaintext/vless.txt",
    "https://raw.githubusercontent.com/rango-cfs/NewCollector/refs/heads/main/v2ray_links.txt",
    "https://raw.githubusercontent.com/aqayerez/MatnOfficial-VPN/refs/heads/main/MatnOfficial",
    "https://raw.githubusercontent.com/4n0nymou3/multi-proxy-config-fetcher/refs/heads/main/configs/proxy_configs.txt",
    "https://raw.githubusercontent.com/arshiacomplus/v2rayExtractor/refs/heads/main/mix/sub.html",
    "https://raw.githubusercontent.com/arshiacomplus/v2rayExtractor/refs/heads/main/vless.html",
    "https://raw.githubusercontent.com/mohamadfg-dev/telegram-v2ray-configs-collector/refs/heads/main/category/Armenia.txt",
    "https://raw.githubusercontent.com/mohamadfg-dev/telegram-v2ray-configs-collector/refs/heads/main/category/Canada.txt",
    "https://raw.githubusercontent.com/mohamadfg-dev/telegram-v2ray-configs-collector/refs/heads/main/category/Estonia.txt",
    "https://raw.githubusercontent.com/mohamadfg-dev/telegram-v2ray-configs-collector/refs/heads/main/category/Finland.txt",
    "https://raw.githubusercontent.com/mohamadfg-dev/telegram-v2ray-configs-collector/refs/heads/main/category/Kazakhstan.txt",
    "https://raw.githubusercontent.com/mohamadfg-dev/telegram-v2ray-configs-collector/refs/heads/main/category/Latvia.txt",
    "https://raw.githubusercontent.com/mohamadfg-dev/telegram-v2ray-configs-collector/refs/heads/main/category/Netherlands.txt",
    "https://raw.githubusercontent.com/mohamadfg-dev/telegram-v2ray-configs-collector/refs/heads/main/category/Poland.txt",
    "https://raw.githubusercontent.com/mohamadfg-dev/telegram-v2ray-configs-collector/refs/heads/main/category/Russia.txt",
    "https://raw.githubusercontent.com/mohamadfg-dev/telegram-v2ray-configs-collector/refs/heads/main/category/The%20Netherlands.txt",
    "https://raw.githubusercontent.com/nscl5/5/refs/heads/main/configs/at/all.txt",
    "https://raw.githubusercontent.com/nscl5/5/refs/heads/main/configs/at/vless.txt",
    "https://raw.githubusercontent.com/Firmfox/proxify/main/v2ray_configs/seperated_by_protocol/vmess.txt",
    "https://raw.githubusercontent.com/Firmfox/proxify/main/v2ray_configs/seperated_by_protocol/vless.txt",
    "https://raw.githubusercontent.com/Danialsamadi/v2go/main/All_Configs_Sub.txt",
    "https://raw.githubusercontent.com/MatinGhanbari/v2ray-configs/main/subscriptions/v2ray/all_sub.txt",
    "https://raw.githubusercontent.com/F0rc3Run/F0rc3Run/refs/heads/main/Best-Results/proxies.txt",
    "https://raw.githubusercontent.com/F0rc3Run/F0rc3Run/refs/heads/main/splitted-by-protocol/vless.txt",
    "https://raw.githubusercontent.com/F0rc3Run/F0rc3Run/refs/heads/main/splitted-by-country/Armenia.txt",
    "https://raw.githubusercontent.com/F0rc3Run/F0rc3Run/refs/heads/main/splitted-by-country/Canada.txt",
    "https://raw.githubusercontent.com/F0rc3Run/F0rc3Run/refs/heads/main/splitted-by-country/Kazakhstan.txt",
    "https://raw.githubusercontent.com/F0rc3Run/F0rc3Run/refs/heads/main/splitted-by-country/Latvia.txt",
    "https://raw.githubusercontent.com/F0rc3Run/F0rc3Run/refs/heads/main/splitted-by-country/Netherlands.txt",
    "https://raw.githubusercontent.com/F0rc3Run/F0rc3Run/refs/heads/main/splitted-by-country/Russia.txt",
    "https://raw.githubusercontent.com/F0rc3Run/F0rc3Run/refs/heads/main/splitted-by-country/United_Kingdom.txt",
    "https://raw.githubusercontent.com/F0rc3Run/F0rc3Run/refs/heads/main/splitted-by-country/United_States.txt",
    "https://raw.githubusercontent.com/sevcator/5ubscrpt10n/main/protocols/vl.txt",
    "https://raw.githubusercontent.com/sevcator/5ubscrpt10n/refs/heads/main/working/countries/Azerbaijan.txt",
    "https://raw.githubusercontent.com/sevcator/5ubscrpt10n/refs/heads/main/working/countries/Armenia.txt",
    "https://raw.githubusercontent.com/sevcator/5ubscrpt10n/refs/heads/main/working/countries/Belarus.txt",
    "https://raw.githubusercontent.com/sevcator/5ubscrpt10n/refs/heads/main/working/countries/Estonia.txt",
    "https://raw.githubusercontent.com/sevcator/5ubscrpt10n/refs/heads/main/working/countries/Finland.txt",
    "https://raw.githubusercontent.com/sevcator/5ubscrpt10n/refs/heads/main/working/countries/France.txt",
    "https://raw.githubusercontent.com/sevcator/5ubscrpt10n/refs/heads/main/working/countries/Georgia.txt",
    "https://raw.githubusercontent.com/sevcator/5ubscrpt10n/refs/heads/main/working/countries/India.txt",
    "https://raw.githubusercontent.com/sevcator/5ubscrpt10n/refs/heads/main/working/countries/Japan.txt",
    "https://raw.githubusercontent.com/sevcator/5ubscrpt10n/refs/heads/main/working/countries/Kazakhstan.txt",
    "https://raw.githubusercontent.com/sevcator/5ubscrpt10n/refs/heads/main/working/countries/Liechtenstein.txt",
    "https://raw.githubusercontent.com/sevcator/5ubscrpt10n/refs/heads/main/working/countries/Luxembourg.txt",
    "https://raw.githubusercontent.com/sevcator/5ubscrpt10n/refs/heads/main/working/countries/Netherlands.txt",
    "https://raw.githubusercontent.com/sevcator/5ubscrpt10n/refs/heads/main/working/countries/Russia.txt",
    "https://raw.githubusercontent.com/sevcator/5ubscrpt10n/refs/heads/main/working/countries/Ukraine.txt",
    "https://raw.githubusercontent.com/sevcator/5ubscrpt10n/refs/heads/main/working/countries/United%20Kingdom.txt",
    "https://raw.githubusercontent.com/sevcator/5ubscrpt10n/refs/heads/main/working/countries/United%20Nations.txt",
    "https://raw.githubusercontent.com/sakha1370/OpenRay/refs/heads/main/output/country/CA.txt",
    "https://raw.githubusercontent.com/sakha1370/OpenRay/refs/heads/main/output/country/CH.txt",
    "https://raw.githubusercontent.com/sakha1370/OpenRay/refs/heads/main/output/country/DE.txt",
    "https://raw.githubusercontent.com/sakha1370/OpenRay/refs/heads/main/output/country/ES.txt",
    "https://raw.githubusercontent.com/sakha1370/OpenRay/refs/heads/main/output/country/FR.txt",
    "https://raw.githubusercontent.com/sakha1370/OpenRay/refs/heads/main/output/country/GB.txt",
    "https://raw.githubusercontent.com/sakha1370/OpenRay/refs/heads/main/output/country/JP.txt",
    "https://raw.githubusercontent.com/sakha1370/OpenRay/refs/heads/main/output/country/NL.txt",
    "https://raw.githubusercontent.com/sakha1370/OpenRay/refs/heads/main/output/country/PL.txt",
    "https://raw.githubusercontent.com/sakha1370/OpenRay/refs/heads/main/output/country/RU.txt",
    "https://raw.githubusercontent.com/sakha1370/OpenRay/refs/heads/main/output/country/SE.txt",
    "https://raw.githubusercontent.com/sakha1370/OpenRay/refs/heads/main/output/country/US.txt",
    "https://raw.githubusercontent.com/V2RAYCONFIGSPOOL/V2RAY_SUB/refs/heads/main/v2ray_configs_no1.txt",
    "https://raw.githubusercontent.com/V2RAYCONFIGSPOOL/V2RAY_SUB/refs/heads/main/v2ray_configs_no2.txt",
    "https://raw.githubusercontent.com/V2RAYCONFIGSPOOL/V2RAY_SUB/refs/heads/main/v2ray_configs_no3.txt",
    "https://raw.githubusercontent.com/V2RAYCONFIGSPOOL/V2RAY_SUB/refs/heads/main/v2ray_configs_no4.txt",
    "https://raw.githubusercontent.com/V2RAYCONFIGSPOOL/V2RAY_SUB/refs/heads/main/v2ray_configs_no5.txt",
    "https://raw.githubusercontent.com/V2RAYCONFIGSPOOL/V2RAY_SUB/refs/heads/main/v2ray_configs_no6.txt",
    "https://raw.githubusercontent.com/V2RAYCONFIGSPOOL/V2RAY_SUB/refs/heads/main/v2ray_configs_no7.txt",
    "https://raw.githubusercontent.com/V2RAYCONFIGSPOOL/V2RAY_SUB/refs/heads/main/v2ray_configs_no8.txt",
    "https://raw.githubusercontent.com/V2RAYCONFIGSPOOL/V2RAY_SUB/refs/heads/main/v2ray_configs_no10.txt",
    "https://raw.githubusercontent.com/iboxz/free-v2ray-collector/main/main/vless",
    "https://raw.githubusercontent.com/iboxz/free-v2ray-collector/main/main/mix",
    "https://raw.githubusercontent.com/Farid-Karimi/Config-Collector/main/vless_iran.txt",
    "https://raw.githubusercontent.com/Farid-Karimi/Config-Collector/main/mixed_iran.txt",
    "https://key.vpnstarlink.ru/MB63UT",
    "https://raw.githubusercontent.com/kort0881/vpn-key-vless/refs/heads/main/vpn-files/all_posts.txt",
    "https://github.com/Epodonios/v2ray-configs/raw/main/All_Configs_Sub.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub42.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub43.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub44.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub45.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub46.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub47.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub48.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub49.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub50.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub1.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub2.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub3.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub7.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub8.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub9.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub10.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub11.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub12.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub13.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub14.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub15.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub16.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub17.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub19.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub20.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub21.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub22.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub23.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub24.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub25.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub26.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub27.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub28.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub29.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub30.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub31.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub32.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub33.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub34.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub35.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub36.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub37.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub38.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub39.txt",
    "https://raw.githubusercontent.com/Epodonios/v2ray-configs/refs/heads/main/Sub40.txt",
    "https://raw.githubusercontent.com/roosterkid/openproxylist/main/V2RAY_RAW.txt",
    "https://raw.githubusercontent.com/begugla0/nashvpn/refs/heads/main/vless.txt",
    "https://raw.githubusercontent.com/AvenCores/goida-vpn-configs/refs/heads/main/githubmirror/1.txt",
    "https://raw.githubusercontent.com/AvenCores/goida-vpn-configs/refs/heads/main/githubmirror/2.txt",
    "https://raw.githubusercontent.com/AvenCores/goida-vpn-configs/refs/heads/main/githubmirror/3.txt",
    "https://raw.githubusercontent.com/AvenCores/goida-vpn-configs/refs/heads/main/githubmirror/5.txt",
    "https://raw.githubusercontent.com/AvenCores/goida-vpn-configs/refs/heads/main/githubmirror/6.txt",
    "https://raw.githubusercontent.com/AvenCores/goida-vpn-configs/refs/heads/main/githubmirror/8.txt",
    "https://raw.githubusercontent.com/AvenCores/goida-vpn-configs/refs/heads/main/githubmirror/9.txt",
    "https://raw.githubusercontent.com/AvenCores/goida-vpn-configs/refs/heads/main/githubmirror/11.txt",
    "https://raw.githubusercontent.com/AvenCores/goida-vpn-configs/refs/heads/main/githubmirror/13.txt",
    "https://raw.githubusercontent.com/AvenCores/goida-vpn-configs/refs/heads/main/githubmirror/14.txt",
    "https://raw.githubusercontent.com/AvenCores/goida-vpn-configs/refs/heads/main/githubmirror/15.txt",
    "https://raw.githubusercontent.com/AvenCores/goida-vpn-configs/refs/heads/main/githubmirror/17.txt",
    "https://raw.githubusercontent.com/AvenCores/goida-vpn-configs/refs/heads/main/githubmirror/19.txt",
    "https://raw.githubusercontent.com/AvenCores/goida-vpn-configs/refs/heads/main/githubmirror/20.txt",
    "https://raw.githubusercontent.com/AvenCores/goida-vpn-configs/refs/heads/main/githubmirror/21.txt",
    "https://raw.githubusercontent.com/AvenCores/goida-vpn-configs/refs/heads/main/githubmirror/22.txt",
    "https://raw.githubusercontent.com/AvenCores/goida-vpn-configs/refs/heads/main/githubmirror/24.txt",
    "https://raw.githubusercontent.com/AvenCores/goida-vpn-configs/refs/heads/main/githubmirror/25.txt",
    "https://raw.githubusercontent.com/AvenCores/goida-vpn-configs/refs/heads/main/githubmirror/26.txt",
    "https://t.me/strbypass/72378/130906",
    "https://raw.githubusercontent.com/zieng2/wl/main/vless_lite.txt",
    "https://raw.githubusercontent.com/liMilCo/v2r/refs/heads/main/all_configs.txt",
    "https://ypa.cocy.pro:8443//SNI",
    "https://jsnegsukavsos.hb.ru-msk.vkcloud-storage.ru/love",
    "https://gist.githubusercontent.com/Syavar/3e76222fc05fde9abcb35c2f24572021/raw/e2f7ef901ae4ba5bab7bef20adef41bead7ba626/gistfile1.txt",
    "https://raw.githubusercontent.com/parvinxs/Submahsanetxsparvin/refs/heads/main/Sub.mahsa.xsparvin",
    "https://raw.githubusercontent.com/darkvpnapp/CloudflarePlus/refs/heads/main/proxy",
    "https://github.com/free-nodes/v2rayfree",
    "https://cdn.jsdelivr.net/gh/xiaoji235/airport-free/v2ray.txt",
    "https://raw.githubusercontent.com/AB-84-AB/Free-Shadowsocks/refs/heads/main/Telegram-id-AB_841",
    "https://raw.githubusercontent.com/Mahdi0024/ProxyCollector/master/sub/proxies.txt",
    "https://raw.githubusercontent.com/HosseinKoofi/GO_V2rayCollector/main/vless_iran.txt",
    "https://raw.githubusercontent.com/STR97/STRUGOV/refs/heads/main/STR.BYPASS#STR.BYPASSüëæ",
    "https://raw.githubusercontent.com/STR97/STRUGOV/refs/heads/main/Vless#VLESS.STR.BYPASSüî•",
    "https://raw.githubusercontent.com/STR97/STRUGOV/refs/heads/main/STR#MEGA.STR.BYPASS‚ö°Ô∏è",
    "https://raw.githubusercontent.com/STR97/STRUGOV/refs/heads/main/CUSTOM#CUSTOM.STR.BYPASSü§ü",
    "https://raw.githubusercontent.com/Rayan-Config/C-Sub/refs/heads/main/configs/proxy.txt",
    "https://github.com/sakha1370/OpenRay/raw/refs/heads/main/output/all_valid_proxies.txt",
]

#–¥–æ–±–æ–≤–ª—è—é 48 —Ä–µ–∑–µ—Ä–æ–≤
DDITIONAL_URLS += [
    f"https://raw.githubusercontent.com/sergeyhatunzev/Para_conf_sidr/refs/heads/main/old_work/old_worked{i}.txt"
    for i in range(1, 49)
]


def extract_host_from_vless(vless_url):
    match = re.search(r'@([^:]+):', vless_url)
    return match.group(1).strip() if match else None

def is_ip_address(string):
    try:
        ipaddress.ip_address(string)
        return True
    except ValueError:
        return False

def resolve_to_ipv4(host):
    try:
        return socket.gethostbyname(host)
    except Exception:
        return None

def modify_config(line, new_ip):
    modified = re.sub(r'@[^:]+:', f'@{new_ip}:', line)
    modified = re.sub(r'fp=[^&]+&', 'fp=firefox&', modified)
    return modified

# –°–±–æ—Ä –∫–æ–Ω—Ñ–∏–≥–æ–≤ (–æ—Å—Ç–∞—ë—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º)
all_vless_lines = []
print("–°–∫–∞—á–∏–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫...")
try:
    resp = requests.get(MAIN_URL, timeout=20)
    resp.raise_for_status()
    vless = [l.strip() for l in resp.text.splitlines() if l.strip().startswith('vless://')]
    all_vless_lines.extend(vless)
    print(f"–û—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫: {len(vless)} –∫–æ–Ω—Ñ–∏–≥–æ–≤")
except Exception as e:
    print(f"–û—à–∏–±–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞: {e}")

print("–°–∫–∞—á–∏–≤–∞–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏...")
for i, url in enumerate(ADDITIONAL_URLS, 1):
    try:
        resp = requests.get(url, timeout=15)
        resp.raise_for_status()
        vless = [l.strip() for l in resp.text.splitlines() if l.strip().startswith('vless://')]
        all_vless_lines.extend(vless)
        if len(vless) > 0:
            print(f"–ò—Å—Ç–æ—á–Ω–∏–∫ {i}: {len(vless)} –∫–æ–Ω—Ñ–∏–≥–æ–≤")
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ {i}: {e}")

print(f"\n–í—Å–µ–≥–æ —Å–æ–±—Ä–∞–Ω–æ vless-—Å—Å—ã–ª–æ–∫: {len(all_vless_lines)}")
unique_lines = list(OrderedDict.fromkeys(all_vless_lines))
print(f"–ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤: {len(unique_lines)} —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö\n")

# –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ –∏–ª–∏ None)
def process_line(line):
    if not line.startswith('vless://'):
        return None
    host_or_ip = extract_host_from_vless(line)
    if not host_or_ip:
        return None
    target_ip = None
    if is_ip_address(host_or_ip):
        ip_obj = ipaddress.ip_address(host_or_ip)
        if ip_obj.version == 4:
            target_ip = host_or_ip
    else:
        
        resolved = resolve_to_ipv4(host_or_ip)

        if resolved:
            target_ip = resolved
    if target_ip and target_ip in allowed_ips_set:
        return modify_config(line, target_ip)
    return None

# –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤ 200 –ø–æ—Ç–æ–∫–æ–≤
matched_configs = []
print("–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ñ–∏–≥–æ–≤ –≤ 200 –ø–æ—Ç–æ–∫–∞—Ö...")
with concurrent.futures.ThreadPoolExecutor(max_workers=200) as executor:
    futures = [executor.submit(process_line, line) for line in unique_lines]
    
    with tqdm(total=len(unique_lines), desc="–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥–æ–≤", unit="—à—Ç") as pbar:
        for future in concurrent.futures.as_completed(futures):
            result = future.result()
            if result:
                matched_configs.append(result)
            pbar.update(1)
            pbar.set_postfix({"–Ω–∞–π–¥–µ–Ω–æ": len(matched_configs)})

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
sidr_output = 'sidr_vless.txt'
with open(sidr_output, 'w', encoding='utf-8') as f:
    for cfg in matched_configs:
        f.write(cfg + '\n')

print(f"\n–ì–æ—Ç–æ–≤–æ! –ù–∞–π–¥–µ–Ω–æ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ {len(matched_configs)} –∫–æ–Ω—Ñ–∏–≥–æ–≤ —Å —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–º–∏ IP –≤ —Ñ–∞–π–ª '{sidr_output}'")
